@model MirGames.Controllers.DashboardController.DashboardViewModel
@{
    ViewBag.Title = "";
    // PageScriptController = "MirGames.Chat.ChatRoomPage";
    AddPageCssClass("dashboard-page");

    if (!User.IsInRole("User"))
    {
        AddPageCssClass("read-only");
    }
}

<section class="blog-subsection">
    <h3>Блог</h3>
    <div class="topics-list">
    @foreach(var topic in Model.Topics)
    {
        @Html.Partial("../../Areas/Topics/Views/Topics/_TopicListItem", topic)
    }
    </div>
</section>
<section class="projects-subsection">
    <h3>Проекты</h3>
    <div class="projects-list">
        @foreach (var project in Model.Projects)
        {
            <div class="project-list-item">
                <div @Html.Css("project-info").Add("with-logo", !string.IsNullOrEmpty(project.LogoUrl))>
                    @if (!string.IsNullOrEmpty(project.LogoUrl))
                    {
                        <div class="logo">
                            <img src="@project.LogoUrl" />
                        </div>
                    }
                    <h1><a href="@Url.Action(MVC.Projects.Projects.Project(project.Alias))">@project.Title</a></h1>
                    <div class="description">
                        @project.ShortDescription
                    </div>
                    <a href="@Url.Action("Profile", "Users", new { userId = project.Author.Id })" class="user-login avatar-link">
                        <img src="@project.Author.AvatarUrl" class="avatar" /><span>@project.Author.Login</span>
                    </a>
                </div>
            </div>
        }
    </div>
</section>
<section class="forum-subsection">
    <h3>Форум</h3>
    <div class="forum-topics-list">
        @foreach (var topic in Model.ForumTopics)
        {
            @Html.Partial("../../Areas/Forum/Views/Forum/_ForumTopicListItem", topic)
        }
    </div>
</section>